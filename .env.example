# ===========================================
# Tarasa Historic Extractor - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# Generate secure keys with: openssl rand -hex 32

# ===========================================
# Facebook Credentials (Required)
# ===========================================
FB_EMAIL=your_facebook_email@example.com
FB_PASSWORD=your_facebook_password

# ===========================================
# OpenAI Configuration (Required)
# ===========================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_CLASSIFIER_MODEL=gpt-4o-mini
OPENAI_GENERATOR_MODEL=gpt-4o-mini
CLASSIFIER_BATCH_SIZE=10
GENERATOR_BATCH_SIZE=10

# ===========================================
# Database Configuration (Required)
# ===========================================
# Local: postgresql://username:password@localhost:5432/tarasa_db
# Cloud: Use connection string from Supabase/Neon/Railway
POSTGRES_URL=postgresql://username:password@localhost:5432/tarasa_db
DATABASE_URL=postgresql://username:password@localhost:5432/tarasa_db

# ===========================================
# Application Settings
# ===========================================
PORT=4000
NODE_ENV=development
BASE_TARASA_URL=https://tarasa.me/he/premium/your-page-id
GROUP_IDS=123456789,987654321
MAX_MESSAGES_PER_DAY=20

# Browser settings
HEADLESS=true
MAX_BROWSER_INSTANCES=2

# ===========================================
# Apify Configuration (Recommended)
# ===========================================
# Get your token from: https://console.apify.com/account/integrations
# Required for scraping public Facebook groups without login
APIFY_TOKEN=apify_api_your_token_here
APIFY_RESULTS_LIMIT=20

# ===========================================
# Redis Configuration (Optional but recommended)
# ===========================================
# Used for: caching, rate limiting, job queues
# Local: redis://localhost:6379
# Cloud: Use connection string from Redis Cloud/Upstash
REDIS_URL=redis://localhost:6379

# ===========================================
# Security (Required for Production)
# ===========================================
# API Key for protected endpoints
# Generate with: openssl rand -hex 32
API_KEY=your-secure-api-key-here

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate limiting
TRIGGER_RATE_LIMIT_PER_MINUTE=30

# ===========================================
# Monitoring & Error Tracking (Optional)
# ===========================================
# Sentry DSN for error tracking
# Get from: https://sentry.io
SENTRY_DSN=

# ===========================================
# Email Alerts (Optional)
# ===========================================
# For 2FA/Captcha notifications
# Use Gmail App Password: https://support.google.com/accounts/answer/185833
SYSTEM_EMAIL_ALERT=
SYSTEM_EMAIL_PASSWORD=

# ===========================================
# Cron Schedules (Optional - defaults shown)
# ===========================================
# SCRAPE_CRON_SCHEDULE=*/10 * * * *
# CLASSIFY_CRON_SCHEDULE=*/3 * * * *
# MESSAGE_CRON_SCHEDULE=*/5 * * * *
